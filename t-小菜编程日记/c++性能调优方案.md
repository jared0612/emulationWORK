## 性能优化

这一小节，我们怎么学习呢？先明确什么是性能调优，目的是什么?有哪些指标来衡量：**响应时间、吞吐量**作为指标；响应时间200ms以内；吞吐量使用tps、qps；
吞吐量：可以简单的理解为，1秒内处理的任务数量；我们能够理解的并发数是，1秒内并发连接数量；吞吐量可以理解为1秒内处理的并发次数，不同业务有不同的理解；

通过使用性能分析工具，识别出那些性能问题需要或者监控系统的指标来看相关的性能趋势；

### 响应时间优化的方向：
缓存、异步、并行和多线程、算法优化、慢SQL优化；


### 吞吐量优化的方向：
水平扩展容器、均衡负载【读写分离、数据库分库分表、节点水平扩展】

**每一个概念都需要去从实际中学习，带有代码案例；** 需要从不同的优化方向出发；

先掌握一些在编程实践中经常使用得到的，不要过分研究深入，从具体的项目入手，性能优化不是意味着要进行代码重构，而是通过使用高性能的代码书写方法，采用合适的数据结构和算法;

**缓存优化**包括：缓存策略、异步优化、多线程优化；

可以在异步优化中使用消息中间件，RabbitMQ、RocketMQ,kafaka

## 消息中间件

发布---订阅模式：引入了消息代理或者消息队列；减少了系统之间的相互依赖，系统之间是松耦合的；异步通信的执行方式，使用消息队列作为通信管道来传递消息；各部分可以异步执行；

分为发布者、和订阅者：发布者不会直接将消息发送给订阅者，而是把消息发送到消息管道中广播出去，订阅者得到消息来消费。

简单示例：

消息代理broker：有消息容器，包含订阅方法和发布方法；

参考文章：

[c++性能调优方案](https://developer.aliyun.com/article/1627867)

要做的是：

[c++stl算法的使用](https://developer.aliyun.com/article/1161003)