# QT

## 1、原理、历史、产品、区别

原理本质是一个应用框架，在QQt环境下调用API来工作，

优点是：跨平台，多语言，开源免费。

包含：产品、qtcreator、design 、第三方库；

## 2、控件

设计器，提供一个预览效果，是一个QT工具，是设计和构建图形用户界面。Qt GUI、Qt Designer；

Qt设计器通过表单保存，为xml格式；编译生成c++程序；默认是只读的形式，为了保持和设计器的一致性。

设计界面，搭建框架；现在是能够预览，并不能提供逻辑的编写；



## 3、信号与槽

用来通信的机制，**QT独有**，最后通过Moc重新编译生成C++标准代码；辅助生成C++语法规则的语法。

**属于预编译之前发生的**



实现方式：

1、ui，有两种方式，一种是右击，一种是下方窗口设置；优点是操作便捷，缺点是不利于开发着学习；

2、QT4方式，`connect`使用了宏定义SIGNAL、SLOT，如果有错误在编译阶段不会进行报错，只有运行阶段才会；并且不能传递参数名；普通成员函数不能作为槽函数

3、QT5方式，`connect`传引用，普通成员函数可以作为槽函数，

4、lambda方式，也是在connect函数中使用，优点是代码更简洁；

5、自定义方式，需要自己声明信号函数和槽函数，QT中有`signals:和 slots:`两种关键字；其中signals前面不可加访问权限，slots可以添加；只需要声明不用定义，编译器会自己生成；其中信号需要单独设置触发的connect；

需要包含`Q_OBJECT`宏定义，类是最终继承于QObject，也可以直接包含头文件QObject，前置条件满足才能使用信号与槽机制；

6、函数指针方式：主要目的就是防止编译器产生歧义，告诉编译器使用哪种函数重载的方式；与第四种方式很像，不过是以传递函数指针的方式，**前面需要一个函数指针**；

**推荐使用QT5方式、lambda方式，自定义方式；**

`connect`的函数原型是有许多重载



## 4、列表型控件的创建和介绍

树型、表格、

## 5、展示型控件

label和progress bar作为案例

控件的创建和设计，从帮助文档入手，内容全；

label：纯文本，富文本、图片、数字；

process bar：设置位置、范围、数值、水平|垂直、加载方向，显示字符串；

## 6、输入性控件创建

每一个组件都去自己实现一次；

单行输入lineedit、多行输入textedit、QSpinBox调整框或者叫做旋转框、Qslider进度条、	

限定范围:验证器限定的是一个大范围，正则表达式可以限定具体范围，setmaxlength方法



## 7、动作型控件创建和设置

QPushButton、QToolButton、QCheckBox、QRadioButton与QButtonGroup配合使用、

自动按钮，默认按钮（enter按下）

Qwidget没有自动默认按钮的，QDialog有；



QToolButton可以设置成图标加文字的形式，新建对象之后，需要调用相关方法来设置位置和大小，设置text和icon





QButtonGroup，管理radioButton对象



QCheckBox复选框，有选中何为选中状态，还有部分选中状态；connect中有状态触发和切换触发的信号。



## 8、对象树

什么是对象树？用来组织和管理QObject及其子类创建的对象；

对象树的使用规则：

- 父对象创建在栈区；

- 子类对象创建在堆区；

父对象管理子对象，父对象销毁会自动回收所有管理的子对象；手动删除子对象时，会在父对象中列表的子对象删除；防止被父对象进行重复删除；

---

## 9、项目

需要配置相关的环境；编辑器；



## 10、样式表设置

选择器，属性值；

使用不同部件的`setStyleSheet`方法进行样式设计；

1. background image，一句边框大小设置
2. border image，随着边框拉伸
3. image，当边框大于图片时，图片大小不变，内边距有变化；小于时，大小随着拉伸，内边距等于图；

创建资源包，导入相对的路径；

`Qmovie`，可以实现动图的设置；

`QPlalette`通过画刷的样式设置；

`QWidget`设置背景图片，父部件是不响应的；而对于QDialog父部件和子部件都生效；

把项目跑起来，按照设计文档进行模块化设计就可以；

## 11、窗口布局管理器















